.TH "IXP_LISTEN" 3 "2010 Jun" "libixp Manual"

.SH NAME
.P
ixp_listen, IxpConn

.SH SYNOPSIS
.nf
  IxpConn *ixp_listen(IxpServer *srv, int fd, void *aux, void (*read)(IxpConn *), void (*close)(IxpConn *));
  
  typedef struct IxpConn IxpConn;
  struct IxpConn {
          IxpServer*      srv;
          void*           aux;
          int             fd;
          void            (*read)(IxpConn *);
          void            (*close)(IxpConn *);
          char            closed;
  
          /* Private members */
          ...
  }
.fi

.SH PARAMETERS
.TP
fs
The file descriptor on which to listen.
.TP
aux
A piece of data to store in the connection's
\fBIxpConn(3)\fR data structure.
.TP
read
The function to call when the connection has
data available to read.
.TP
close
A cleanup function to call when the
connection is closed.

.SH DESCRIPTION
.P
Starts the server \fIsrv\fR listening on \fIfd\fR. The optional
callbacks are called as described, with the connections
\fBIxpConn(3)\fR data structure as their arguments.

.SH RETURN VALUE
.P
Returns the connection's new \fBIxpConn(3)\fR data
structure.


.\" man code generated by txt2tags 2.5 (http://txt2tags.sf.net)
.\" cmdline: txt2tags -o- ixp_listen.man3

